# 网络层

位于传输层和网络链路层之间，用于把数据从源主机经过若干个中间节点传送到目标主机，并向传输层提供最基础的数据传输服务，它要提供路由和**选址**的工作。


## 选址
交换机是靠MAC地址来寻址的，而因为MAC地址是无层次的，无规律的，我们无法根据MAC地址来确定一个具体的位置，（比如用户拿着电脑满世界跑，但是他的MAC地址是不变的，因此，无法根据MAC地址来确定机器位置）,但是IP地址是固定的，一个IP地址就像门牌号一样不会变，所以可以通过IP地址来确认计算机的位置，这就是选址，只有找到目标计算机的地址之后，在同一局域网中然后通过ART广播，才找到MAC来进行通信。


## 路由器
使用物理层或者数据链路层的中继系统比如交换机，只是把一个网络扩大了，而从网络层的角度看，它仍然是同一个网络，一般不称之为网络互联。网络互联通常是指用路由器进行网络互联和路由选择。路由器是一台专用计算机，用于在互联网中进行路由选择。


### 路由(选择)
在能够选择的多条道路之间选择最短路径的一条就是路由的工作。



## IP
在网络中，每一台计算机都有一个唯一的地址，方便别人找到它，这个地址称之为IP地址。




## 网络层的数据交换方式：电路交换、报文交换和分组交换

电路交换：
报文交换：
分组交换：

数据交换在传输的过程中有两种方式：数据报方式和虚电路方式。
### 数据报方式：
在网络层，传输的单元就是数据报或者说是分组。
数据报方式为网络层提供无连接服务。
无连接服务是指不事先为分组的传输确定传输路径，每个分组独立确定传输路径，不同分组传输路径可能不同。
通俗的来说就是报文分组后，每个分组不会按照固定的路线进行传输。类似于微信聊天。

1. 数据报是无连接服务
2. 每个分组(数据报)携带源和目的地址
3. 路由器根据分组的目的地址转发分组：也就是说路由器会基于路由协议/算法构建转发表；检索转发表；每个分组独立选路。

### 虚电路方式：
虚电路方式为网络层提供连接服务。
虚电路：一条源主机到目的主机类似于电路的路径（逻辑连接，不是真实电路因此是虚电路）。路径上所有结点都要维持这条电路的建立，都维持一张虚电路表
连接服务：首先为分组的传输确定传输路径(建立连接)，然后沿着该路径传输所有分组，也就是说所有的分组传输路径相同。传输结束后拆除该连接。比如生活中打电话的方式就是虚电路方式。

1. 虚电路将数据报方式和电路交换方式结合，以发挥两者优点。
