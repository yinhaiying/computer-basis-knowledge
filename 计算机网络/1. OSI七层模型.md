# OSI七层模型


## OSI的来源
ISO为了更好的使网络应用更为普及，推出了OSI参考模型。其含义就是推荐所有公司使用这个规范来控制网络。这样所有公司都有相同的规范，就能互联了。简单来说，就是为了让互联网之间的数据通信能够更加安全，准确，因此指定了相对应的一系列规则来定义数据的传输。


## OSI七层模型的划分
OSI定义了网络互连的七层框架（物理层、数据链路层、网络层、传输层、会话层、表示层、应用层），即ISO开放互连系统参考模型。每一层实现各自的功能和协议，并完成与相邻层的接口通信。OSI的服务定义详细说明了各层所提供的服务。**某一层的服务就是该层及其下各层的一种能力，它通过接口提供给更高一层**。比如物理层就是为数据链路层服务。

## TCP/IP 各层功能定义
为了方便理解网络传输的各层定义，我们以生活中发送快递为例。
1. 应用层(这里将会话层，表示层和应用层统称为应用层，五层模型)。
应用层是最靠近用户的一层，是用于为计算机用户提供应用接口，比如各种Http请求，也为用户提供各种网络服务，比如FTP，POP3和SMTP等。对比发送快递，应用层就是我们实际发送的东西，比如快递。
2. 传输层。
建立了主机端到端的链接，传输层的作用是为上层协议提供端到端的可靠和透明的数据传输服务，包括处理差错控制和流量控制等问题。用通俗的话来说就是为了保证可靠性，指定一系列策略。比如我们送快递从北京到上海，可能快递车在路上发生车祸，掉下悬崖了，没人知道，也没有反馈，北京的站点不知道上海那边有没有收到快递。因此，为了保证快递的实时信息，快递公司要求每到一个地方，就汇报地址，这样的话我们就能够实时APP上查看快递信息，也能够随时知道快递状态。对于传输层数据的传输也是这样，为了保证数据的传输不出现问题，规定可能每隔多长时间汇报一次，如果没有反馈可能就认为数据丢失了，就重新发一份。这样始终能够保证数据被完整地传输过去。
3. 网络层。
本层通过IP寻址来建立两个节点之间的连接，为源端的运输层送来的分组，选择合适的路由和交换节点，正确无误地按照地址传送给目的端的运输层。用送快递来说就是从北京到上海有无数条路，快递员应该选择哪一条路了。这就是很多物流公司比如京东，他们就会规划好常见的路线，比如文件就直接走空运，一些东西走水路，一些东西走陆路。网络层就是用来给要传输的数据规划一条传输的线路，也就是建立两个节点之间的链接，但是它不保证数据的可靠性传输，那是传输层做的事情。
4. 数据链路层。
将比特组合成字节,再将字节组合成帧,使用链路层地址 (以太网使用MAC地址)来访问介质,并进行差错检测。用通俗的话来说，就是在快递传输的过程中进行各种检查，随机应变，快递在运送的过程中，可能会遇到各种各样的问题，这就需要专门的人，专门的策略来进行处理，比如可能这条路不同了，需要稍微绕下路这种事情。而数据链路层就是处理数据再传输过程中的一些操作，比如差错检测等。
5. 物理层
实际最终信号的传输是通过物理层实现的。通过物理介质传输比特流。规定了电平、速度和电缆针脚。我们生活中最常见的传输数据就是网线，但是网线它就是一根线，它怎么传输数据的。事实上所有数据在传输的过程中都只有两个信号，0和1。因此，只要某种介质能够表示0和1就能够实现数据的传输。比如网线中的光纤，它用高电平(5v)来表示1，用低电平(2v)来表示0，这样的话就可以实现0,1的数据传输。